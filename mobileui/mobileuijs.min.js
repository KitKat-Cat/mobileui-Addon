!function(){var e=[],t=0,r=function(){for(var e=document.querySelectorAll("[data]"),n=0;n<e.length;n++)if(e[n].getAttribute("data")&&!e[n].getAttribute("data-binded")){var a=e[n].getAttribute("data");a=fetchFromObject(window,a),a?(writeElement(e[n],a),e[n].setAttribute("data-binded","mobileui"),dataObserver(e[n].getAttribute("data"),t++)):setTimeout(function(){r()},100)}};reDataBind=function(e){for(var t=fetchFromObject(window,e.dataKey),r=document.querySelectorAll("[data-binded]"),n=0;n<r.length;n++)r[n].getAttribute("data-binded")===e.dataKey&&r[n].parentNode.removeChild(r[n]);r=document.querySelectorAll("[data][data-binded]");for(var n=0;n<r.length;n++)r[n].getAttribute("data")===e.dataKey&&writeElement(r[n],t);e.dataValue=copyObj(t)},writeElement=function(e,t){var r=function(t,r){for(var n=e.outerHTML,a=/\${/g;match=a.exec(n);){var o=n.slice(match.index+2,n.length).split("}")[0],c=fetchFromObject(t,o);n=n.replace("${"+o+"}",c)}r&&(n=n.replace(new RegExp("\\$\\$index","g"),r));var d=document.createElement("div");e.parentNode.insertBefore(d,e),n=n.replace("data=","data-binded="),d.outerHTML=n};if(t.constructor===Array)for(var n in t)r(t[n],n);else r(t)},fetchFromObject=function(e,t){if("undefined"==typeof e)return console.error("Object for property ",t," is undefined!"),"";var r=t.indexOf(".");return r>-1?fetchFromObject(e[t.substring(0,r)],t.substr(r+1)):e.constructor===String||e.constructor===Number||e.constructor===Boolean||e.constructor===Date?e:e[t]},dataObserver=function(t,r){e[r]||(e[r]={dataKey:t,dataValue:copyObj(fetchFromObject(window,t))});var n=fetchFromObject(window,e[r].dataKey);e[r].dataValue.constructor===Array&&e[r].dataValue.length!==n.length?reDataBind(e[r]):e[r].dataValue.constructor===Array&&e[r].dataValue.toString()!==n.toString()?reDataBind(e[r]):JSON.stringify(e[r].dataValue)!==JSON.stringify(n)&&reDataBind(e[r]),setTimeout(function(){dataObserver(t,r)},100)},copyObj=function(e){if(e.constructor===Array)return e.slice();var t=e.constructor();for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},r(),window.MobileUI={objectByForm:function(e){for(var t=document.getElementById(e),r={},n=t.querySelectorAll("input,textarea,select"),a=0;a<n.length;a++)if(n[a].id&&"checkbox"===n[a].type)r[n[a].id]=n[a].checked;else if(n[a].name&&"radio"===n[a].type){var o=t.querySelector('input[name="'+n[a].name+'"]:checked').value;o&&(r[n[a].name]=o)}else n[a].id&&(r[n[a].id]=n[a].value);return r},formByObject:function(e,t){for(var r=document.getElementById(e),n=r.querySelectorAll("input,textarea,select"),a=0;a<n.length;a++)if(n[a].id&&"checkbox"===n[a].type)n[a].checked=t[n[a].id];else if(n[a].name&&"radio"===n[a].type){var o=r.querySelector('input[name="'+n[a].name+'"][value="'+t[n[a].name]+'"]');o&&(o.checked=!0)}else n[a].id&&(n[a].value=t[n[a].id])},clearForm:function(e){for(var t=document.getElementById(e),r=t.querySelectorAll("input,textarea,select"),n=0;n<r.length;n++)if(r[n].id&&r[n].type.indexOf("select")>=0){for(var a=r[n].options,o=0;o<a.length;o++)a[o].defaultSelected&&(r[n].selectedIndex=o,r[n].found=!0);r[n].found||(r[n].selectedIndex=0)}else r[n].id&&"checkbox"===r[n].type?r[n].checked=null!==r[n].getAttribute("checked"):r[n].name&&"radio"===r[n].type?t.querySelector('input[name="'+r[n].name+'"][checked]').checked=!0:r[n].id&&(r[n].value="")},show:function(e){document.getElementById(e).style.display="block"},hide:function(e){document.getElementById(e).style.display="none"},showHide:function(e){null===document.getElementById(e).offsetParent?this.show(e):this.hide(e)},focus:function(e){document.getElementById(e).focus()}}}();